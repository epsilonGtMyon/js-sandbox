var ge=Object.defineProperty;var we=(e,t,n)=>t in e?ge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var G=(e,t,n)=>we(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Rt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jt={};/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ft;function me(){if(Ft)return jt;Ft=1;var e;return function(t){(function(n){var r=typeof globalThis=="object"?globalThis:typeof Rt=="object"?Rt:typeof self=="object"?self:typeof this=="object"?this:m(),i=o(t);typeof r.Reflect<"u"&&(i=o(r.Reflect,i)),n(i,r),typeof r.Reflect>"u"&&(r.Reflect=t);function o(v,_){return function(E,T){Object.defineProperty(v,E,{configurable:!0,writable:!0,value:T}),_&&_(E,T)}}function f(){try{return Function("return this;")()}catch{}}function h(){try{return(0,eval)("(function() { return this; })()")}catch{}}function m(){return f()||h()}})(function(n,r){var i=Object.prototype.hasOwnProperty,o=typeof Symbol=="function",f=o&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",h=o&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",m=typeof Object.create=="function",v={__proto__:[]}instanceof Array,_=!m&&!v,E={create:m?function(){return ct(Object.create(null))}:v?function(){return ct({__proto__:null})}:function(){return ct({})},has:_?function(a,s){return i.call(a,s)}:function(a,s){return s in a},get:_?function(a,s){return i.call(a,s)?a[s]:void 0}:function(a,s){return a[s]}},T=Object.getPrototypeOf(Function),x=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:de(),C=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:pe(),D=typeof WeakMap=="function"?WeakMap:he(),R=o?Symbol.for("@reflect-metadata:registry"):void 0,j=fe(),N=le(j);function Y(a,s,u,l){if(w(u)){if(!It(a))throw new TypeError;if(!Vt(s))throw new TypeError;return ee(a,s)}else{if(!It(a))throw new TypeError;if(!P(s))throw new TypeError;if(!P(l)&&!w(l)&&!z(l))throw new TypeError;return z(l)&&(l=void 0),u=B(u),ne(a,s,u,l)}}n("decorate",Y);function b(a,s){function u(l,g){if(!P(l))throw new TypeError;if(!w(g)&&!se(g))throw new TypeError;bt(a,s,l,g)}return u}n("metadata",b);function k(a,s,u,l){if(!P(u))throw new TypeError;return w(l)||(l=B(l)),bt(a,s,u,l)}n("defineMetadata",k);function W(a,s,u){if(!P(s))throw new TypeError;return w(u)||(u=B(u)),_t(a,s,u)}n("hasMetadata",W);function $(a,s,u){if(!P(s))throw new TypeError;return w(u)||(u=B(u)),ut(a,s,u)}n("hasOwnMetadata",$);function q(a,s,u){if(!P(s))throw new TypeError;return w(u)||(u=B(u)),Mt(a,s,u)}n("getMetadata",q);function ot(a,s,u){if(!P(s))throw new TypeError;return w(u)||(u=B(u)),Et(a,s,u)}n("getOwnMetadata",ot);function st(a,s){if(!P(a))throw new TypeError;return w(s)||(s=B(s)),Tt(a,s)}n("getMetadataKeys",st);function Kt(a,s){if(!P(a))throw new TypeError;return w(s)||(s=B(s)),St(a,s)}n("getOwnMetadataKeys",Kt);function te(a,s,u){if(!P(s))throw new TypeError;if(w(u)||(u=B(u)),!P(s))throw new TypeError;w(u)||(u=B(u));var l=Q(s,u,!1);return w(l)?!1:l.OrdinaryDeleteMetadata(a,s,u)}n("deleteMetadata",te);function ee(a,s){for(var u=a.length-1;u>=0;--u){var l=a[u],g=l(s);if(!w(g)&&!z(g)){if(!Vt(g))throw new TypeError;s=g}}return s}function ne(a,s,u,l){for(var g=a.length-1;g>=0;--g){var I=a[g],A=I(s,u,l);if(!w(A)&&!z(A)){if(!P(A))throw new TypeError;l=A}}return l}function _t(a,s,u){var l=ut(a,s,u);if(l)return!0;var g=lt(s);return z(g)?!1:_t(a,g,u)}function ut(a,s,u){var l=Q(s,u,!1);return w(l)?!1:xt(l.OrdinaryHasOwnMetadata(a,s,u))}function Mt(a,s,u){var l=ut(a,s,u);if(l)return Et(a,s,u);var g=lt(s);if(!z(g))return Mt(a,g,u)}function Et(a,s,u){var l=Q(s,u,!1);if(!w(l))return l.OrdinaryGetOwnMetadata(a,s,u)}function bt(a,s,u,l){var g=Q(u,l,!0);g.OrdinaryDefineOwnMetadata(a,s,u,l)}function Tt(a,s){var u=St(a,s),l=lt(a);if(l===null)return u;var g=Tt(l,s);if(g.length<=0)return u;if(u.length<=0)return g;for(var I=new C,A=[],O=0,c=u;O<c.length;O++){var d=c[O],p=I.has(d);p||(I.add(d),A.push(d))}for(var y=0,M=g;y<M.length;y++){var d=M[y],p=I.has(d);p||(I.add(d),A.push(d))}return A}function St(a,s){var u=Q(a,s,!1);return u?u.OrdinaryOwnMetadataKeys(a,s):[]}function kt(a){if(a===null)return 1;switch(typeof a){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return a===null?1:6;default:return 6}}function w(a){return a===void 0}function z(a){return a===null}function re(a){return typeof a=="symbol"}function P(a){return typeof a=="object"?a!==null:typeof a=="function"}function ie(a,s){switch(kt(a)){case 0:return a;case 1:return a;case 2:return a;case 3:return a;case 4:return a;case 5:return a}var u="string",l=Pt(a,f);if(l!==void 0){var g=l.call(a,u);if(P(g))throw new TypeError;return g}return ae(a)}function ae(a,s){var u,l,g;{var I=a.toString;if(et(I)){var l=I.call(a);if(!P(l))return l}var u=a.valueOf;if(et(u)){var l=u.call(a);if(!P(l))return l}}throw new TypeError}function xt(a){return!!a}function oe(a){return""+a}function B(a){var s=ie(a);return re(s)?s:oe(s)}function It(a){return Array.isArray?Array.isArray(a):a instanceof Object?a instanceof Array:Object.prototype.toString.call(a)==="[object Array]"}function et(a){return typeof a=="function"}function Vt(a){return typeof a=="function"}function se(a){switch(kt(a)){case 3:return!0;case 4:return!0;default:return!1}}function ft(a,s){return a===s||a!==a&&s!==s}function Pt(a,s){var u=a[s];if(u!=null){if(!et(u))throw new TypeError;return u}}function At(a){var s=Pt(a,h);if(!et(s))throw new TypeError;var u=s.call(a);if(!P(u))throw new TypeError;return u}function Ct(a){return a.value}function Nt(a){var s=a.next();return s.done?!1:s}function Dt(a){var s=a.return;s&&s.call(a)}function lt(a){var s=Object.getPrototypeOf(a);if(typeof a!="function"||a===T||s!==T)return s;var u=a.prototype,l=u&&Object.getPrototypeOf(u);if(l==null||l===Object.prototype)return s;var g=l.constructor;return typeof g!="function"||g===a?s:g}function ue(){var a;!w(R)&&typeof r.Reflect<"u"&&!(R in r.Reflect)&&typeof r.Reflect.defineMetadata=="function"&&(a=ce(r.Reflect));var s,u,l,g=new D,I={registerProvider:A,getProvider:c,setProvider:p};return I;function A(y){if(!Object.isExtensible(I))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case a===y:break;case w(s):s=y;break;case s===y:break;case w(u):u=y;break;case u===y:break;default:l===void 0&&(l=new C),l.add(y);break}}function O(y,M){if(!w(s)){if(s.isProviderFor(y,M))return s;if(!w(u)){if(u.isProviderFor(y,M))return s;if(!w(l))for(var S=At(l);;){var V=Nt(S);if(!V)return;var F=Ct(V);if(F.isProviderFor(y,M))return Dt(S),F}}}if(!w(a)&&a.isProviderFor(y,M))return a}function c(y,M){var S=g.get(y),V;return w(S)||(V=S.get(M)),w(V)&&(V=O(y,M),w(V)||(w(S)&&(S=new x,g.set(y,S)),S.set(M,V))),V}function d(y){if(w(y))throw new TypeError;return s===y||u===y||!w(l)&&l.has(y)}function p(y,M,S){if(!d(S))throw new Error("Metadata provider not registered.");var V=c(y,M);if(V!==S){if(!w(V))return!1;var F=g.get(y);w(F)&&(F=new x,g.set(y,F)),F.set(M,S)}return!0}}function fe(){var a;return!w(R)&&P(r.Reflect)&&Object.isExtensible(r.Reflect)&&(a=r.Reflect[R]),w(a)&&(a=ue()),!w(R)&&P(r.Reflect)&&Object.isExtensible(r.Reflect)&&Object.defineProperty(r.Reflect,R,{enumerable:!1,configurable:!1,writable:!1,value:a}),a}function le(a){var s=new D,u={isProviderFor:function(d,p){var y=s.get(d);return w(y)?!1:y.has(p)},OrdinaryDefineOwnMetadata:A,OrdinaryHasOwnMetadata:g,OrdinaryGetOwnMetadata:I,OrdinaryOwnMetadataKeys:O,OrdinaryDeleteMetadata:c};return j.registerProvider(u),u;function l(d,p,y){var M=s.get(d),S=!1;if(w(M)){if(!y)return;M=new x,s.set(d,M),S=!0}var V=M.get(p);if(w(V)){if(!y)return;if(V=new x,M.set(p,V),!a.setProvider(d,p,u))throw M.delete(p),S&&s.delete(d),new Error("Wrong provider for target.")}return V}function g(d,p,y){var M=l(p,y,!1);return w(M)?!1:xt(M.has(d))}function I(d,p,y){var M=l(p,y,!1);if(!w(M))return M.get(d)}function A(d,p,y,M){var S=l(y,M,!0);S.set(d,p)}function O(d,p){var y=[],M=l(d,p,!1);if(w(M))return y;for(var S=M.keys(),V=At(S),F=0;;){var Lt=Nt(V);if(!Lt)return y.length=F,y;var ve=Ct(Lt);try{y[F]=ve}catch(ye){try{Dt(V)}finally{throw ye}}F++}}function c(d,p,y){var M=l(p,y,!1);if(w(M)||!M.delete(d))return!1;if(M.size===0){var S=s.get(p);w(S)||(S.delete(y),S.size===0&&s.delete(S))}return!0}}function ce(a){var s=a.defineMetadata,u=a.hasOwnMetadata,l=a.getOwnMetadata,g=a.getOwnMetadataKeys,I=a.deleteMetadata,A=new D,O={isProviderFor:function(c,d){var p=A.get(c);return!w(p)&&p.has(d)?!0:g(c,d).length?(w(p)&&(p=new C,A.set(c,p)),p.add(d),!0):!1},OrdinaryDefineOwnMetadata:s,OrdinaryHasOwnMetadata:u,OrdinaryGetOwnMetadata:l,OrdinaryOwnMetadataKeys:g,OrdinaryDeleteMetadata:I};return O}function Q(a,s,u){var l=j.getProvider(a,s);if(!w(l))return l;if(u){if(j.setProvider(a,s,N))return N;throw new Error("Illegal state.")}}function de(){var a={},s=[],u=function(){function O(c,d,p){this._index=0,this._keys=c,this._values=d,this._selector=p}return O.prototype["@@iterator"]=function(){return this},O.prototype[h]=function(){return this},O.prototype.next=function(){var c=this._index;if(c>=0&&c<this._keys.length){var d=this._selector(this._keys[c],this._values[c]);return c+1>=this._keys.length?(this._index=-1,this._keys=s,this._values=s):this._index++,{value:d,done:!1}}return{value:void 0,done:!0}},O.prototype.throw=function(c){throw this._index>=0&&(this._index=-1,this._keys=s,this._values=s),c},O.prototype.return=function(c){return this._index>=0&&(this._index=-1,this._keys=s,this._values=s),{value:c,done:!0}},O}(),l=function(){function O(){this._keys=[],this._values=[],this._cacheKey=a,this._cacheIndex=-2}return Object.defineProperty(O.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),O.prototype.has=function(c){return this._find(c,!1)>=0},O.prototype.get=function(c){var d=this._find(c,!1);return d>=0?this._values[d]:void 0},O.prototype.set=function(c,d){var p=this._find(c,!0);return this._values[p]=d,this},O.prototype.delete=function(c){var d=this._find(c,!1);if(d>=0){for(var p=this._keys.length,y=d+1;y<p;y++)this._keys[y-1]=this._keys[y],this._values[y-1]=this._values[y];return this._keys.length--,this._values.length--,ft(c,this._cacheKey)&&(this._cacheKey=a,this._cacheIndex=-2),!0}return!1},O.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=a,this._cacheIndex=-2},O.prototype.keys=function(){return new u(this._keys,this._values,g)},O.prototype.values=function(){return new u(this._keys,this._values,I)},O.prototype.entries=function(){return new u(this._keys,this._values,A)},O.prototype["@@iterator"]=function(){return this.entries()},O.prototype[h]=function(){return this.entries()},O.prototype._find=function(c,d){if(!ft(this._cacheKey,c)){this._cacheIndex=-1;for(var p=0;p<this._keys.length;p++)if(ft(this._keys[p],c)){this._cacheIndex=p;break}}return this._cacheIndex<0&&d&&(this._cacheIndex=this._keys.length,this._keys.push(c),this._values.push(void 0)),this._cacheIndex},O}();return l;function g(O,c){return O}function I(O,c){return c}function A(O,c){return[O,c]}}function pe(){var a=function(){function s(){this._map=new x}return Object.defineProperty(s.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),s.prototype.has=function(u){return this._map.has(u)},s.prototype.add=function(u){return this._map.set(u,u),this},s.prototype.delete=function(u){return this._map.delete(u)},s.prototype.clear=function(){this._map.clear()},s.prototype.keys=function(){return this._map.keys()},s.prototype.values=function(){return this._map.keys()},s.prototype.entries=function(){return this._map.entries()},s.prototype["@@iterator"]=function(){return this.keys()},s.prototype[h]=function(){return this.keys()},s}();return a}function he(){var a=16,s=E.create(),u=l();return function(){function c(){this._key=l()}return c.prototype.has=function(d){var p=g(d,!1);return p!==void 0?E.has(p,this._key):!1},c.prototype.get=function(d){var p=g(d,!1);return p!==void 0?E.get(p,this._key):void 0},c.prototype.set=function(d,p){var y=g(d,!0);return y[this._key]=p,this},c.prototype.delete=function(d){var p=g(d,!1);return p!==void 0?delete p[this._key]:!1},c.prototype.clear=function(){this._key=l()},c}();function l(){var c;do c="@@WeakMap@@"+O();while(E.has(s,c));return s[c]=!0,c}function g(c,d){if(!i.call(c,u)){if(!d)return;Object.defineProperty(c,u,{value:E.create()})}return c[u]}function I(c,d){for(var p=0;p<d;++p)c[p]=Math.random()*255|0;return c}function A(c){if(typeof Uint8Array=="function"){var d=new Uint8Array(c);return typeof crypto<"u"?crypto.getRandomValues(d):typeof msCrypto<"u"?msCrypto.getRandomValues(d):I(d,c),d}return I(new Array(c),c)}function O(){var c=A(a);c[6]=c[6]&79|64,c[8]=c[8]&191|128;for(var d="",p=0;p<a;++p){var y=c[p];(p===4||p===6||p===8)&&(d+="-"),y<16&&(d+="0"),d+=y.toString(16).toLowerCase()}return d}}function ct(a){return a.__=void 0,delete a.__,a}})}(e||(e={})),jt}me();var wt=function(){function e(t){this.groups=[],this.each=!1,this.context=void 0,this.type=t.type,this.name=t.name,this.target=t.target,this.propertyName=t.propertyName,this.constraints=t==null?void 0:t.constraints,this.constraintCls=t.constraintCls,this.validationTypeOptions=t.validationTypeOptions,t.validationOptions&&(this.message=t.validationOptions.message,this.groups=t.validationOptions.groups,this.always=t.validationOptions.always,this.each=t.validationOptions.each,this.context=t.validationOptions.context)}return e}(),Oe=function(){function e(){}return e.prototype.transform=function(t){var n=[];return Object.keys(t.properties).forEach(function(r){t.properties[r].forEach(function(i){var o={message:i.message,groups:i.groups,always:i.always,each:i.each},f={type:i.type,name:i.name,target:t.name,propertyName:r,constraints:i.constraints,validationTypeOptions:i.options,validationOptions:o};n.push(new wt(f))})}),n},e}();function _e(e){return e instanceof Map?Array.from(e.values()):Array.isArray(e)?e:Array.from(e)}function Me(){if(typeof globalThis<"u")return globalThis;if(typeof global<"u")return global;if(typeof window<"u")return window;if(typeof self<"u")return self}function dt(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var Ee=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Bt=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],f;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(h){f={error:h}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(f)throw f.error}}return o},be=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},qt=function(){function e(){this.validationMetadatas=new Map,this.constraintMetadatas=new Map}return Object.defineProperty(e.prototype,"hasValidationMetaData",{get:function(){return!!this.validationMetadatas.size},enumerable:!1,configurable:!0}),e.prototype.addValidationSchema=function(t){var n=this,r=new Oe().transform(t);r.forEach(function(i){return n.addValidationMetadata(i)})},e.prototype.addValidationMetadata=function(t){var n=this.validationMetadatas.get(t.target);n?n.push(t):this.validationMetadatas.set(t.target,[t])},e.prototype.addConstraintMetadata=function(t){var n=this.constraintMetadatas.get(t.target);n?n.push(t):this.constraintMetadatas.set(t.target,[t])},e.prototype.groupByPropertyName=function(t){var n={};return t.forEach(function(r){n[r.propertyName]||(n[r.propertyName]=[]),n[r.propertyName].push(r)}),n},e.prototype.getTargetValidationMetadatas=function(t,n,r,i,o){var f,h,m=function(b){return typeof b.always<"u"?b.always:b.groups&&b.groups.length?!1:r},v=function(b){return!!(i&&(!o||!o.length)&&b.groups&&b.groups.length)},_=this.validationMetadatas.get(t)||[],E=_.filter(function(b){return b.target!==t&&b.target!==n?!1:m(b)?!0:v(b)?!1:o&&o.length>0?b.groups&&!!b.groups.find(function(k){return o.indexOf(k)!==-1}):!0}),T=[];try{for(var x=Ee(this.validationMetadatas.entries()),C=x.next();!C.done;C=x.next()){var D=Bt(C.value,2),R=D[0],j=D[1];t.prototype instanceof R&&T.push.apply(T,be([],Bt(j),!1))}}catch(b){f={error:b}}finally{try{C&&!C.done&&(h=x.return)&&h.call(x)}finally{if(f)throw f.error}}var N=T.filter(function(b){return typeof b.target=="string"||b.target===t||b.target instanceof Function&&!(t.prototype instanceof b.target)?!1:m(b)?!0:v(b)?!1:o&&o.length>0?b.groups&&!!b.groups.find(function(k){return o.indexOf(k)!==-1}):!0}),Y=N.filter(function(b){return!E.find(function(k){return k.propertyName===b.propertyName&&k.type===b.type})});return E.concat(Y)},e.prototype.getTargetValidatorConstraints=function(t){return this.constraintMetadatas.get(t)||[]},e}();function K(){var e=Me();return e.classValidatorMetadataStorage||(e.classValidatorMetadataStorage=new qt),e.classValidatorMetadataStorage}var Gt=function(){function e(){}return e.prototype.toString=function(t,n,r,i){var o=this;t===void 0&&(t=!1),n===void 0&&(n=!1),r===void 0&&(r=""),i===void 0&&(i=!1);var f=t?"\x1B[1m":"",h=t?"\x1B[22m":"",m=function(){var E;return(i?Object.values:Object.keys)((E=o.constraints)!==null&&E!==void 0?E:{}).join(", ")},v=function(E){return" - property ".concat(f).concat(r).concat(E).concat(h," has failed the following constraints: ").concat(f).concat(m()).concat(h,` 
`)};if(n){var _=Number.isInteger(+this.property)?"[".concat(this.property,"]"):"".concat(r?".":"").concat(this.property);return this.constraints?v(_):this.children?this.children.map(function(E){return E.toString(t,!0,"".concat(r).concat(_),i)}).join(""):""}else return"An instance of ".concat(f).concat(this.target?this.target.constructor.name:"an object").concat(h,` has failed the validation:
`)+(this.constraints?v(this.property):"")+(this.children?this.children.map(function(E){return E.toString(t,!0,o.property,i)}).join(""):"")},e}(),L=function(){function e(){}return e.isValid=function(t){var n=this;return t!=="isValid"&&t!=="getMessage"&&Object.keys(this).map(function(r){return n[r]}).indexOf(t)!==-1},e.CUSTOM_VALIDATION="customValidation",e.NESTED_VALIDATION="nestedValidation",e.PROMISE_VALIDATION="promiseValidation",e.CONDITIONAL_VALIDATION="conditionalValidation",e.WHITELIST="whitelistValidation",e.IS_DEFINED="isDefined",e}();function Te(e){return Array.isArray(e)?e.join(", "):(typeof e=="symbol"&&(e=e.description),"".concat(e))}var Se=function(){function e(){}return e.replaceMessageSpecialTokens=function(t,n){var r;return t instanceof Function?r=t(n):typeof t=="string"&&(r=t),r&&Array.isArray(n.constraints)&&n.constraints.forEach(function(i,o){r=r.replace(new RegExp("\\$constraint".concat(o+1),"g"),Te(i))}),r&&n.value!==void 0&&n.value!==null&&["string","boolean","number"].includes(typeof n.value)&&(r=r.replace(/\$value/g,n.value)),r&&(r=r.replace(/\$property/g,n.property)),r&&(r=r.replace(/\$target/g,n.targetName)),r},e}(),X=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],f;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(h){f={error:h}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(f)throw f.error}}return o},Ut=function(){function e(t,n){this.validator=t,this.validatorOptions=n,this.awaitingPromises=[],this.ignoreAsyncValidations=!1,this.metadataStorage=K()}return e.prototype.execute=function(t,n,r){var i=this,o,f;!this.metadataStorage.hasValidationMetaData&&((o=this.validatorOptions)===null||o===void 0?void 0:o.enableDebugMessages)===!0&&console.warn(`No validation metadata found. No validation will be  performed. There are multiple possible reasons:
  - There may be multiple class-validator versions installed. You will need to flatten your dependencies to fix the issue.
  - This validation runs before any file with validation decorator was parsed by NodeJS.`);var h=this.validatorOptions?this.validatorOptions.groups:void 0,m=this.validatorOptions&&this.validatorOptions.strictGroups||!1,v=this.validatorOptions&&this.validatorOptions.always||!1,_=((f=this.validatorOptions)===null||f===void 0?void 0:f.forbidUnknownValues)===void 0||this.validatorOptions.forbidUnknownValues!==!1,E=this.metadataStorage.getTargetValidationMetadatas(t.constructor,n,v,m,h),T=this.metadataStorage.groupByPropertyName(E);if(_&&!E.length){var x=new Gt;(!this.validatorOptions||!this.validatorOptions.validationError||this.validatorOptions.validationError.target===void 0||this.validatorOptions.validationError.target===!0)&&(x.target=t),x.value=void 0,x.property=void 0,x.children=[],x.constraints={unknownValue:"an unknown value was passed to the validate function"},r.push(x);return}this.validatorOptions&&this.validatorOptions.whitelist&&this.whitelist(t,T,r),Object.keys(T).forEach(function(C){var D=t[C],R=T[C].filter(function(N){return N.type===L.IS_DEFINED}),j=T[C].filter(function(N){return N.type!==L.IS_DEFINED&&N.type!==L.WHITELIST});D instanceof Promise&&j.find(function(N){return N.type===L.PROMISE_VALIDATION})?i.awaitingPromises.push(D.then(function(N){i.performValidations(t,N,C,R,j,r)})):i.performValidations(t,D,C,R,j,r)})},e.prototype.whitelist=function(t,n,r){var i=this,o=[];Object.keys(t).forEach(function(f){(!n[f]||n[f].length===0)&&o.push(f)}),o.length>0&&(this.validatorOptions&&this.validatorOptions.forbidNonWhitelisted?o.forEach(function(f){var h,m=i.generateValidationError(t,t[f],f);m.constraints=(h={},h[L.WHITELIST]="property ".concat(f," should not exist"),h),m.children=void 0,r.push(m)}):o.forEach(function(f){return delete t[f]}))},e.prototype.stripEmptyErrors=function(t){var n=this;return t.filter(function(r){if(r.children&&(r.children=n.stripEmptyErrors(r.children)),Object.keys(r.constraints).length===0){if(r.children.length===0)return!1;delete r.constraints}return!0})},e.prototype.performValidations=function(t,n,r,i,o,f){var h=o.filter(function(T){return T.type===L.CUSTOM_VALIDATION}),m=o.filter(function(T){return T.type===L.NESTED_VALIDATION}),v=o.filter(function(T){return T.type===L.CONDITIONAL_VALIDATION}),_=this.generateValidationError(t,n,r);f.push(_);var E=this.conditionalValidations(t,n,v);E&&(this.customValidations(t,n,i,_),this.mapContexts(t,n,i,_),!(n===void 0&&this.validatorOptions&&this.validatorOptions.skipUndefinedProperties===!0)&&(n===null&&this.validatorOptions&&this.validatorOptions.skipNullProperties===!0||n==null&&this.validatorOptions&&this.validatorOptions.skipMissingProperties===!0||(this.customValidations(t,n,h,_),this.nestedValidations(n,m,_),this.mapContexts(t,n,o,_),this.mapContexts(t,n,h,_))))},e.prototype.generateValidationError=function(t,n,r){var i=new Gt;return(!this.validatorOptions||!this.validatorOptions.validationError||this.validatorOptions.validationError.target===void 0||this.validatorOptions.validationError.target===!0)&&(i.target=t),(!this.validatorOptions||!this.validatorOptions.validationError||this.validatorOptions.validationError.value===void 0||this.validatorOptions.validationError.value===!0)&&(i.value=n),i.property=r,i.children=[],i.constraints={},i},e.prototype.conditionalValidations=function(t,n,r){return r.map(function(i){return i.constraints[0](t,n)}).reduce(function(i,o){return i&&o},!0)},e.prototype.customValidations=function(t,n,r,i){var o=this;r.forEach(function(f){o.metadataStorage.getTargetValidatorConstraints(f.constraintCls).forEach(function(h){if(!(h.async&&o.ignoreAsyncValidations)&&!(o.validatorOptions&&o.validatorOptions.stopAtFirstError&&Object.keys(i.constraints||{}).length>0)){var m={targetName:t.constructor?t.constructor.name:void 0,property:f.propertyName,object:t,value:n,constraints:f.constraints};if(!f.each||!(Array.isArray(n)||n instanceof Set||n instanceof Map)){var v=h.instance.validate(n,m);if(dt(v)){var _=v.then(function(k){if(!k){var W=X(o.createValidationError(t,n,f,h),2),$=W[0],q=W[1];i.constraints[$]=q,f.context&&(i.contexts||(i.contexts={}),i.contexts[$]=Object.assign(i.contexts[$]||{},f.context))}});o.awaitingPromises.push(_)}else if(!v){var E=X(o.createValidationError(t,n,f,h),2),T=E[0],x=E[1];i.constraints[T]=x}return}var C=_e(n),D=C.map(function(k){return h.instance.validate(k,m)}),R=D.some(function(k){return dt(k)});if(R){var j=D.map(function(k){return dt(k)?k:Promise.resolve(k)}),N=Promise.all(j).then(function(k){var W=k.every(function(st){return st});if(!W){var $=X(o.createValidationError(t,n,f,h),2),q=$[0],ot=$[1];i.constraints[q]=ot,f.context&&(i.contexts||(i.contexts={}),i.contexts[q]=Object.assign(i.contexts[q]||{},f.context))}});o.awaitingPromises.push(N);return}var Y=D.every(function(k){return k});if(!Y){var b=X(o.createValidationError(t,n,f,h),2),T=b[0],x=b[1];i.constraints[T]=x}}})})},e.prototype.nestedValidations=function(t,n,r){var i=this;t!==void 0&&n.forEach(function(o){if(!(o.type!==L.NESTED_VALIDATION&&o.type!==L.PROMISE_VALIDATION)&&!(i.validatorOptions&&i.validatorOptions.stopAtFirstError&&Object.keys(r.constraints||{}).length>0))if(Array.isArray(t)||t instanceof Set||t instanceof Map){var f=t instanceof Set?Array.from(t):t;f.forEach(function(E,T){i.performValidations(t,E,T.toString(),[],n,r.children)})}else if(t instanceof Object){var h=typeof o.target=="string"?o.target:o.target.name;i.execute(t,h,r.children)}else{var m=X(i.createValidationError(o.target,t,o),2),v=m[0],_=m[1];r.constraints[v]=_}})},e.prototype.mapContexts=function(t,n,r,i){var o=this;return r.forEach(function(f){if(f.context){var h=void 0;if(f.type===L.CUSTOM_VALIDATION){var m=o.metadataStorage.getTargetValidatorConstraints(f.constraintCls);h=m[0]}var v=o.getConstraintType(f,h);i.constraints[v]&&(i.contexts||(i.contexts={}),i.contexts[v]=Object.assign(i.contexts[v]||{},f.context))}})},e.prototype.createValidationError=function(t,n,r,i){var o=t.constructor?t.constructor.name:void 0,f=this.getConstraintType(r,i),h={targetName:o,property:r.propertyName,object:t,value:n,constraints:r.constraints},m=r.message||"";!r.message&&(!this.validatorOptions||this.validatorOptions&&!this.validatorOptions.dismissDefaultMessages)&&i&&i.instance.defaultMessage instanceof Function&&(m=i.instance.defaultMessage(h));var v=Se.replaceMessageSpecialTokens(m,h);return[f,v]},e.prototype.getConstraintType=function(t,n){var r=n&&n.name?n.name:t.type;return r},e}(),ke=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(f){f(o)})}return new(n||(n=Promise))(function(o,f){function h(_){try{v(r.next(_))}catch(E){f(E)}}function m(_){try{v(r.throw(_))}catch(E){f(E)}}function v(_){_.done?o(_.value):i(_.value).then(h,m)}v((r=r.apply(e,t||[])).next())})},xe=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,f;return f={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function h(v){return function(_){return m([v,_])}}function m(v){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,v[0]&&(n=0)),n;)try{if(r=1,i&&(o=v[0]&2?i.return:v[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,v[1])).done)return o;switch(i=0,o&&(v=[v[0]&2,o.value]),v[0]){case 0:case 1:o=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,i=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!o||v[1]>o[0]&&v[1]<o[3])){n.label=v[1];break}if(v[0]===6&&n.label<o[1]){n.label=o[1],o=v;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(v);break}o[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(_){v=[6,_],i=0}finally{r=o=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},$t=function(){function e(){}return e.prototype.validate=function(t,n,r){return this.coreValidate(t,n,r)},e.prototype.validateOrReject=function(t,n,r){return ke(this,void 0,void 0,function(){var i;return xe(this,function(o){switch(o.label){case 0:return[4,this.coreValidate(t,n,r)];case 1:return i=o.sent(),i.length?[2,Promise.reject(i)]:[2]}})})},e.prototype.validateSync=function(t,n,r){var i=typeof t=="string"?n:t,o=typeof t=="string"?r:n,f=typeof t=="string"?t:void 0,h=new Ut(this,o);h.ignoreAsyncValidations=!0;var m=[];return h.execute(i,f,m),h.stripEmptyErrors(m)},e.prototype.coreValidate=function(t,n,r){var i=typeof t=="string"?n:t,o=typeof t=="string"?r:n,f=typeof t=="string"?t:void 0,h=new Ut(this,o),m=[];return h.execute(i,f,m),Promise.all(h.awaitingPromises).then(function(){return h.stripEmptyErrors(m)})},e}(),Ie=new(function(){function e(){this.instances=[]}return e.prototype.get=function(t){var n=this.instances.find(function(r){return r.type===t});return n||(n={type:t,object:new t},this.instances.push(n)),n.object},e}());function nt(e){return Ie.get(e)}var Ht=function(){function e(t,n,r){r===void 0&&(r=!1),this.target=t,this.name=n,this.async=r}return Object.defineProperty(e.prototype,"instance",{get:function(){return nt(this.target)},enumerable:!1,configurable:!0}),e}();function rt(e){var t;if(e.validator instanceof Function){t=e.validator;var n=nt(qt).getTargetValidatorConstraints(e.validator);if(n.length>1)throw"More than one implementation of ValidatorConstraintInterface found for validator on: ".concat(e.target.name,":").concat(e.propertyName)}else{var r=e.validator;t=function(){function o(){}return o.prototype.validate=function(f,h){return r.validate(f,h)},o.prototype.defaultMessage=function(f){return r.defaultMessage?r.defaultMessage(f):""},o}(),K().addConstraintMetadata(new Ht(t,e.name,e.async))}var i={type:e.name&&L.isValid(e.name)?e.name:L.CUSTOM_VALIDATION,name:e.name,target:e.target,propertyName:e.propertyName,validationOptions:e.options,constraintCls:t,constraints:e.constraints};K().addValidationMetadata(new wt(i))}function it(e){return function(t){var n=e&&e.async,r=e&&e.name?e.name:"";r||(r=t.name,r||(r=r.replace(/\.?([A-Z]+)/g,function(o,f){return"_"+f.toLowerCase()}).replace(/^_/,"")));var i=new Ht(t,r,n);K().addConstraintMetadata(i)}}var pt=function(){return pt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},pt.apply(this,arguments)};function Wt(e){var t=pt({},e),n=t.each?"each value in ":"";return t.message=t.message||n+"nested property $property must be either object or array",function(r,i){var o={type:L.NESTED_VALIDATION,target:r.constructor,propertyName:i,validationOptions:t};K().addValidationMetadata(new wt(o))}}function zt(e,t,n){return typeof e=="string"?nt($t).validate(e,t,n):nt($t).validate(e,t)}function at(e){const t=["default"];return e!=null&&e.groups&&t.push(...e.groups),{...e,groups:t}}var Ve=Object.getOwnPropertyDescriptor,Pe=(e,t,n,r)=>{for(var i=r>1?void 0:r?Ve(t,n):t,o=e.length-1,f;o>=0;o--)(f=e[o])&&(i=f(i)||i);return i};function Ae(e){return!(e==null||e===""||Array.isArray(e)&&e.length===0)}let ht=class{validate(e,t){return Ae(e)}defaultMessage(e){return"必須です。"}};ht=Pe([it({name:"required",async:!1})],ht);function tt(e){return function(t,n){rt({target:t.constructor,propertyName:n,options:at(e),constraints:[],validator:ht})}}var Ce=Object.getOwnPropertyDescriptor,Ne=(e,t,n,r)=>{for(var i=r>1?void 0:r?Ce(t,n):t,o=e.length-1,f;o>=0;o--)(f=e[o])&&(i=f(i)||i);return i};function De(e){return e==null||e===""?!0:/^[0-9]*$/.test(e)}let vt=class{validate(e,t){return De(e)}defaultMessage(e){return"半角数値で入力してください。"}};vt=Ne([it({name:"halfNum",async:!1})],vt);function Jt(e){return function(t,n){rt({target:t.constructor,propertyName:n,options:at(e),constraints:[],validator:vt})}}var Le=Object.getOwnPropertyDescriptor,Re=(e,t,n,r)=>{for(var i=r>1?void 0:r?Le(t,n):t,o=e.length-1,f;o>=0;o--)(f=e[o])&&(i=f(i)||i);return i};function je(e,t){return e==null?!0:e.length<=t}let yt=class{validate(e,t){const n=t==null?void 0:t.constraints[0];return je(e,n)}defaultMessage(e){return`${e==null?void 0:e.constraints[0]}個以下にしてください。`}};yt=Re([it({name:"maxArraySize",async:!1})],yt);function Fe(e,t){return function(n,r){rt({target:n.constructor,propertyName:r,options:at(t),constraints:[e],validator:yt})}}var Be=Object.getOwnPropertyDescriptor,Ge=(e,t,n,r)=>{for(var i=r>1?void 0:r?Be(t,n):t,o=e.length-1,f;o>=0;o--)(f=e[o])&&(i=f(i)||i);return i};function Ue(e,t){return e==null||e===""?!0:[...e].length<=t}let gt=class{validate(e,t){const n=t==null?void 0:t.constraints[0];return Ue(e,n)}defaultMessage(e){return`${e==null?void 0:e.constraints[0]}文字以内で入力してください。`}};gt=Ge([it({name:"maxLength",async:!1})],gt);function H(e,t){return function(n,r){rt({target:n.constructor,propertyName:r,options:at(t),constraints:[e],validator:gt})}}var $e=Object.defineProperty,U=(e,t,n,r)=>{for(var i=void 0,o=e.length-1,f;o>=0;o--)(f=e[o])&&(i=f(t,n,i)||i);return i&&$e(t,n,i),i};class Z{constructor(){G(this,"firstname");G(this,"familyname");G(this,"age");G(this,"skills");G(this,"pet")}}U([tt(),H(5)],Z.prototype,"firstname");U([tt(),H(5)],Z.prototype,"familyname");U([tt(),Jt(),H(5)],Z.prototype,"age");U([Fe(3),Wt({always:!0})],Z.prototype,"skills");U([Wt({always:!0})],Z.prototype,"pet");class mt{constructor(){G(this,"skillName");G(this,"skillLevel")}}U([tt(),H(10)],mt.prototype,"skillName");U([tt(),Jt(),H(3)],mt.prototype,"skillLevel");class Ot{constructor(){G(this,"petName1");G(this,"petName2")}}U([H(5,{groups:["pet"]})],Ot.prototype,"petName1");U([H(5,{groups:["pet"]})],Ot.prototype,"petName2");const qe=document.getElementById("firstname"),He=document.getElementById("familyname"),We=document.getElementById("age"),Zt=document.getElementById("skills"),ze=document.getElementById("addSkillButton"),Je=document.getElementById("registerButton"),Ze=document.getElementById("registerPetOnlyButton"),Ye=document.getElementById("petName1"),Qe=document.getElementById("petName2");ze.addEventListener("click",()=>{const e=Zt.querySelector("tbody"),t=document.createElement("tr"),n=document.createElement("td"),r=document.createElement("input");r.classList.add("skillName"),r.maxLength=20,n.appendChild(r),t.appendChild(n);const i=document.createElement("td"),o=document.createElement("input");o.classList.add("skillLevel"),o.maxLength=5,i.appendChild(o),t.appendChild(i);const f=document.createElement("td"),h=document.createElement("button");h.textContent="削除",h.addEventListener("click",()=>{t.remove()}),f.appendChild(h),t.appendChild(f),e.appendChild(t)});Je.addEventListener("click",async()=>{Qt();const e=Yt(),t=await zt(e,{groups:["default","pet"],forbidUnknownValues:!1,validationError:{target:!1,value:!1},stopAtFirstError:!0});console.log(t),Xt(JSON.stringify(t,null,2))});Ze.addEventListener("click",async()=>{Qt();const e=Yt(),t=await zt(e,{groups:["pet"],forbidUnknownValues:!1,validationError:{target:!1,value:!1},stopAtFirstError:!0});console.log(t),Xt(JSON.stringify(t,null,2))});function Yt(){const e=new Z;return e.firstname=qe.value,e.familyname=He.value,e.age=We.value,e.skills=Xe(),e.pet=Ke(),e}function Xe(){const e=Zt.querySelectorAll("tbody tr"),t=[];for(const n of e){const r=new mt;r.skillName=n.querySelector(".skillName").value,r.skillLevel=n.querySelector(".skillLevel").value,t.push(r)}return t}function Ke(){const e=new Ot;return e.petName1=Ye.value,e.petName2=Qe.value,e}const J=document.getElementById("console");function Qt(){for(;J.firstChild;)J.removeChild(J.firstChild)}function Xt(e){var n,r;const t=document.createElement("div");t.textContent=e,J.append(t),(r=J.parentElement)==null||r.scrollTo(0,(n=J.parentElement)==null?void 0:n.scrollHeight)}
